# This Makefile defines the rules for building the dissertation PDF and
# cleaning up the junk generated by LaTeX.


# The name of the main .tex file to build.
DOCUMENT = dissertation
# List other .tex needed files
TEX_FILES := $(filter-out $(DOCUMENT).tex, $(wildcard *.tex))
BIB_FILES := $(wildcard *.bib)
# Folder where output will be placed
OUTDIR = output
# Name of the output file
OUTPUT = $(OUTDIR)/$(DOCUMENT).pdf

LATEX_COMPILER = latexmk -pdf -outdir=$(OUTDIR)

all: $(OUTPUT)

clean:
	rm -rvf $(OUTDIR) figures/*eps-converted-to.pdf

$(OUTPUT): $(DOCUMENT).tex $(TEX_FILES) $(BIB_FILES)
	$(LATEX_COMPILER) $<
